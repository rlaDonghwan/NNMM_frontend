# 📊 NNMM - ESG 분석 및 통합 대시보드

> **Next.js, NestJS, MongoDB 기반의 ESG(환경·사회·지배구조) 데이터 시각화 플랫폼**

---

## 🧩 프로젝트 개요

* **프로젝트명**: NNMM (Next.js + NestJS + MongoDB + Mongoose)
* **개발 기간**: 2025.03.24 \~ 2025.04.07
* **팀 구성 및 역할**:

  * 김동환: 총괄 팀장
  * 김지현: Backend, Frontend
  * 정상진: Backend, Frontend

---

## ✨ 프로젝트 소개

**NNMM**은 기업의 ESG 데이터를 디지털화하고 시각적으로 통합 관리할 수 있는 플랫폼입니다.
사용자는 환경(E), 사회(S), 지배구조(G) 영역의 데이터를 직접 입력하고, 이를 기반으로 **맞춤형 대시보드**, **목표 지표 설정**, **자동 차트 생성** 등의 기능을 활용할 수 있습니다.

* ✅ **ESG 경영 활동을 정량화하여 데이터 기반 의사결정 지원**
* ✅ **MongoDB 기반의 유연한 스키마로 확장성 확보**
* ✅ **Next.js 기반 SSR과 반응형 UI로 높은 접근성 제공**

---

## 🎯 개발 목적

* ESG 정보의 **중앙화 및 디지털화**
* 정량 데이터를 통한 **지속가능경영 지원**
* **자동 차트 추천**을 통한 인사이트 강화
* **변경 이력 추적**으로 투명성 및 신뢰도 확보

---

## 🔧 주요 기능

| 기능 구분         | 설명                              |
| ------------- | ------------------------------- |
| 📥 ESG 데이터 입력 | 환경, 사회, 지배구조 영역별 입력 폼           |
| 📊 대시보드       | Chart.js, Recharts 기반 맞춤형 차트 생성 |
| 🎯 목표 설정      | 카테고리별 KPI 설정 및 진행률 추적           |
| 🕵️ 변경 이력     | 데이터 변경사항 로그 기록                  |
| 🤖 자동 추천      | 입력된 데이터 기반 차트 형태 추천             |

---

## 🛠 기술 스택

| 영역           | 기술                               |
| ------------ | -------------------------------- |
| **Frontend** | Next.js, TypeScript, TailwindCSS |
| **Backend**  | NestJS, TypeScript               |
| **Database** | MongoDB, Mongoose                |
| **시각화**      | Chart.js, Recharts               |
| **인증**       | JWT 기반 인증 시스템                    |

---

## 🧠 시스템 구성도 및 플로우

### ✅ 프론트엔드 라우팅 구조

Next.js App Router를 사용한 라우트 그룹 구조입니다.

```mermaid
graph TD
    A[앱 루트] --> B["(main) 그룹"]
    A --> C["(auth) 그룹"]
    A --> D["(bar) 그룹"]
    
    B --> E[메인 페이지]
    B --> F[메인 레이아웃]
    
    C --> G[로그인 페이지]
    C --> H[회원가입 페이지]
    C --> I[인증 레이아웃]
    
    D --> J[대시보드 메인]
    D --> K[환경 대시보드]
    D --> L[사회 대시보드]
    D --> M[지배구조 대시보드]
    D --> N[대시보드 레이아웃]
```

### ✅ 프론트엔드 인증 플로우

미들웨어 기반 인증 시스템의 동작 방식입니다.

```mermaid
sequenceDiagram
    participant U as 사용자
    participant M as 미들웨어
    participant C as 쿠키
    participant P as 보호된 페이지
    participant A as 인증 페이지

    U->>M: 페이지 요청
    M->>C: accessToken 확인
    
    alt 토큰이 있는 경우
        C-->>M: 토큰 반환
        M->>P: 페이지 접근 허용
        P-->>U: 페이지 렌더링
    else 토큰이 없는 경우
        C-->>M: 토큰 없음
        M->>A: /signin으로 리디렉트
        A-->>U: 로그인 페이지 표시
    end
```

### ✅ 컴포넌트 구조

주요 UI 컴포넌트들의 계층 구조입니다.

```mermaid
graph TD
    A[앱 컴포넌트] --> B[레이아웃 컴포넌트]
    B --> C[헤더 컴포넌트]
    B --> D[사이드바 컴포넌트]
    B --> E[메인 콘텐츠]
    
    C --> F[사용자 아바타]
    C --> G[로그아웃 버튼]
    
    D --> H[대시보드 네비게이션]
    
    E --> I[대시보드 페이지]
    I --> J[차트 컴포넌트]
    I --> K[그리드 아이템]
    I --> L[모달 컴포넌트]
    
    J --> M[Chart.js 차트]
    J --> N[Recharts 차트]
    
    L --> O[ESG 데이터 입력 모달]
    L --> P[목표 설정 모달]
```

### ✅ 사용자 워크플로우

사용자가 시스템을 사용하는 전체적인 흐름입니다.

```mermaid
flowchart TD
    A[사용자 접속] --> B{로그인 상태?}
    
    B -->|No| C[로그인/회원가입 페이지]
    C --> D[인증 정보 입력]
    D --> E[백엔드 인증 요청]
    E --> F[JWT 토큰 발급]
    F --> G[쿠키에 토큰 저장]
    
    B -->|Yes| H[대시보드 메인 페이지]
    G --> H
    
    H --> I[ESG 카테고리 선택]
    I --> J[환경/사회/지배구조 대시보드]
    
    J --> K[차트 보기/생성]
    K --> L{차트 작업}
    
    L -->|생성| M[데이터 입력 모달]
    L -->|수정| N[차트 편집 모달]
    L -->|삭제| O[삭제 확인]
    
    M --> P[차트 추천 알고리즘]
    P --> Q[차트 생성 및 저장]
    Q --> R[대시보드 업데이트]
    
    N --> R
    O --> R
    
    R --> S[목표 설정 가능]
    S --> T[진행률 시각화]
```

---

## 💡 기대 효과

* 📈 ESG 경영 효율화 및 체계적인 데이터 관리
* 🔍 실시간 데이터 기반 의사결정 지원
* 🧩 사용자 친화적인 UI로 비개발자도 손쉽게 사용 가능
* 🔒 신뢰성과 투명성을 기반으로 한 지속가능경영 실현

---

